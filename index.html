<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√µ ƒê√†i Ng∆∞·ªùi Que - Campaign</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="game-container">
        <div class="game-header">
            <div class="player-info player1-info">
                <div class="player-name" id="player-name">B·∫°n</div>
                <div class="health-bar">
                    <div class="health-fill" id="player1-health"></div>
                </div>
                <div class="coins-display">üí∞ <span id="coins">0</span></div>
            </div>
            <div class="stage-info">
                <div class="stage-number" id="stage-number">Stage 1</div>
                <div class="timer" id="timer">99</div>
            </div>
            <div class="player-info player2-info">
                <div class="player-name" id="opponent-name">Opponent</div>
                <div class="health-bar">
                    <div class="health-fill" id="player2-health"></div>
                </div>
                <div class="controls-hint">AI Enemy</div>
            </div>
        </div>
        <canvas id="gameCanvas"></canvas>
        
        <!-- Main Menu Overlay -->
        <div class="game-overlay" id="mainMenu">
            <div class="menu main-menu">
                <h1>ü•ã V√ï ƒê√ÄI NG∆Ø·ªúI QUE</h1>
                <div class="menu-buttons">
                    <button class="btn-menu" id="campaignBtn">üìñ Campaign</button>
                    <button class="btn-menu" id="vsBtn">‚öîÔ∏è VS Mode</button>
                    <button class="btn-menu" id="shopBtn">üè™ N√¢ng C·∫•p</button>
                    <button class="btn-menu" id="resetBtn">üîÑ Reset Progress</button>
                </div>
                <div class="stats-display">
                    <div>Victories: <span id="victories">0</span></div>
                    <div>Coins: <span id="menu-coins">0</span> üí∞</div>
                </div>
            </div>
        </div>
        
        <!-- Stage Select -->
        <div class="game-overlay hidden" id="stageSelect">
            <div class="menu stage-select-menu">
                <h2>üìñ Ch·ªçn M√†n Ch∆°i</h2>
                <div class="stage-grid" id="stageGrid"></div>
                <button class="btn-back" id="backToMenu">‚Üê Quay L·∫°i</button>
            </div>
        </div>
        
        <!-- Upgrade Shop -->
        <div class="game-overlay hidden" id="upgradeShop">
            <div class="menu shop-menu">
                <h2>üè™ N√¢ng C·∫•p</h2>
                <div class="coins-big">üí∞ <span id="shop-coins">0</span> Coins</div>
                <div class="upgrade-grid">
                    <div class="upgrade-card">
                        <div class="upgrade-icon">‚ù§Ô∏è</div>
                        <div class="upgrade-name">Max Health</div>
                        <div class="upgrade-level">Level: <span id="health-level">0</span>/5</div>
                        <div class="upgrade-desc">+10 HP m·ªói c·∫•p</div>
                        <button class="btn-upgrade" id="upgrade-health">
                            Mua (<span id="health-cost">200</span> üí∞)
                        </button>
                    </div>
                    <div class="upgrade-card">
                        <div class="upgrade-icon">‚öîÔ∏è</div>
                        <div class="upgrade-name">Attack Power</div>
                        <div class="upgrade-level">Level: <span id="attack-level">0</span>/5</div>
                        <div class="upgrade-desc">+2 Damage m·ªói c·∫•p</div>
                        <button class="btn-upgrade" id="upgrade-attack">
                            Mua (<span id="attack-cost">250</span> üí∞)
                        </button>
                    </div>
                    <div class="upgrade-card">
                        <div class="upgrade-icon">‚ö°</div>
                        <div class="upgrade-name">Speed</div>
                        <div class="upgrade-level">Level: <span id="speed-level">0</span>/5</div>
                        <div class="upgrade-desc">+0.5 T·ªëc ƒë·ªô m·ªói c·∫•p</div>
                        <button class="btn-upgrade" id="upgrade-speed">
                            Mua (<span id="speed-cost">150</span> üí∞)
                        </button>
                    </div>
                    <div class="upgrade-card">
                        <div class="upgrade-icon">üõ°Ô∏è</div>
                        <div class="upgrade-name">Defense</div>
                        <div class="upgrade-level">Level: <span id="defense-level">0</span>/5</div>
                        <div class="upgrade-desc">-10% Damage nh·∫≠n m·ªói c·∫•p</div>
                        <button class="btn-upgrade" id="upgrade-defense">
                            Mua (<span id="defense-cost">300</span> üí∞)
                        </button>
                    </div>
                </div>
                <button class="btn-back" id="backToMenuFromShop">‚Üê Quay L·∫°i</button>
            </div>
        </div>
        
        <!-- Story Cutscene -->
        <div class="game-overlay hidden" id="storyCutscene">
            <div class="menu story-menu">
                <h2 id="storyTitle">Stage 1</h2>
                <div class="story-content">
                    <div class="enemy-preview" id="enemyPreview"></div>
                    <p class="story-text" id="storyText"></p>
                    <div class="enemy-stats">
                        <div>Enemy: <span id="enemyName"></span></div>
                        <div>Difficulty: <span id="enemyDifficulty"></span></div>
                    </div>
                </div>
                <button class="btn-start" id="startFight">‚öîÔ∏è Chi·∫øn ƒê·∫•u!</button>
            </div>
        </div>
        
        <!-- Victory Screen -->
        <div class="game-overlay hidden" id="victoryScreen">
            <div class="menu victory-menu">
                <h1 class="victory-title">üéâ CHI·∫æN TH·∫ÆNG! üéâ</h1>
                <div class="victory-content">
                    <div class="reward-box">
                        <div class="reward-amount" id="rewardAmount">+500 üí∞</div>
                        <div>Total Coins: <span id="totalCoins">0</span> üí∞</div>
                    </div>
                </div>
                <div class="menu-buttons">
                    <button class="btn-menu" id="nextStageBtn">M√†n Ti·∫øp ‚ûú</button>
                    <button class="btn-menu" id="retryBtn">‚Üª Ch∆°i L·∫°i</button>
                    <button class="btn-menu" id="backToMenuFromVictory">‚Üê Menu</button>
                </div>
            </div>
        </div>
        
        <!-- Defeat Screen -->
        <div class="game-overlay hidden" id="defeatScreen">
            <div class="menu defeat-menu">
                <h1 class="defeat-title">üíÄ TH·∫§T B·∫†I</h1>
                <div class="defeat-content">
                    <p>ƒê·ª´ng b·ªè cu·ªôc! H√£y n√¢ng c·∫•p v√† th·ª≠ l·∫°i!</p>
                </div>
                <div class="menu-buttons">
                    <button class="btn-menu" id="retryDefeatBtn">‚Üª Th·ª≠ L·∫°i</button>
                    <button class="btn-menu" id="upgradeFromDefeat">üè™ N√¢ng C·∫•p</button>
                    <button class="btn-menu" id="backToMenuFromDefeat">‚Üê Menu</button>
                </div>
            </div>
        </div>
        
        <!-- VS Mode (2 Player) -->
        <div class="game-overlay hidden" id="vsMode">
            <div class="menu">
                <h1>‚öîÔ∏è VS MODE</h1>
                <button class="btn-start" id="startVsBtn">B·∫Øt ƒê·∫ßu</button>
                <div class="instructions">
                    <h3>H∆∞·ªõng d·∫´n ch∆°i:</h3>
                    <div class="instruction-row">
                        <div>
                            <strong>Player 1:</strong><br>
                            W/S: Nh·∫£y/Ng·ªìi<br>
                            A/D: Di chuy·ªÉn<br>
                            F: ƒê·∫•m<br>
                            G: ƒê√°
                        </div>
                        <div>
                            <strong>Player 2:</strong><br>
                            ‚Üë/‚Üì: Nh·∫£y/Ng·ªìi<br>
                            ‚Üê/‚Üí: Di chuy·ªÉn<br>
                            1: ƒê·∫•m<br>
                            2: ƒê√°
                        </div>
                    </div>
                </div>
                <button class="btn-back" id="backToMenuFromVs">‚Üê Quay L·∫°i</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/ParticleSystem.js"></script>
    <script src="js/Player.js"></script>
    <script src="js/AIController.js"></script>
    <script src="js/CampaignManager.js"></script>
    <script src="js/InputHandler.js"></script>
    <script src="js/Game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>